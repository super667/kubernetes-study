[toc]

# 面试算法题

## 题目：扔鸡蛋问题

有2个鸡蛋，从100层楼上往下扔，以此来测试鸡蛋的硬度。比如鸡蛋在第9层没有摔碎，在第10层摔碎了，那么鸡蛋不会摔碎的临界点就是9层。

**问：** 如何用最少的尝试次数，测试出鸡蛋不会摔碎的临界点？

方法一： 二分法

采用类似于二分查找的方法，把鸡蛋从一半楼层往下扔。
如果第一枚鸡蛋在50层碎了，第二枚鸡蛋就从第一层开始扔，一层一层增长，一直扔到第49层。
如果第一枚鸡蛋在50层没有碎，则继续使用二分法，在余下楼层的一半(75层)往下扔......

这个方法在最坏的情况下，需要尝试50次。

方法二： 平方根法

如何让第一枚鸡蛋和第二枚鸡蛋的尝试次数，尽可能均衡呢？
很简单，做一个平方根运算，100的平方根是10。
因此，我们尝试每10层扔一次，第一次从10层扔，第二次从20层扔，第三次从30层……一直扔到100层。
这样的最好情况是在第10层碎掉，尝试次数为 1 + 9 = 10次。
最坏的情况是在第100层碎掉，尝试次数为 10 + 9 = 19次。

不过，这里有一个小小的优化点，我们可以从15层开始扔，接下来从25层、35层扔……一直到95层。
这样最坏情况是在第95层碎掉，尝试次数为 9 + 9 = 18次。

方法三：

假设最优的尝试次数是x次，为什么第一次要扔第x层呢？

假设第一次仍在第x+1层：
    如果第一个鸡蛋碎了，那么第二个鸡蛋只能从第一层开始一层一层扔，一直扔到第x层。
    这样以来，一共尝试了x+1次，和假设x次相悖。由此可见，第一次扔的楼层必须小于x+1层
假设第一次仍在第x-1层：
    如果第一个鸡蛋碎了，那么第二个鸡蛋只能从第一层开始一层一层扔，一直到第x-2层。
    这样以来，一共尝试了x-2+1次，虽然没有超出假设次数，但是似乎有些保守。
假设第一次仍在第x层：
    如果第一个鸡蛋碎了，那么第二个鸡蛋只能从第1层开始一层一层扔，一直扔到第x-1层。
    这样一来，我们总共尝试了x-1+1 = x次，刚刚好没有超出假设次数。

因此，要想尽量楼层跨度大一些，又要保证不超过假设的尝试次数x，那么第一次扔鸡蛋的最优选择就是第x层。

由此可以得到方程式

x + (x-1) + (x-2) +   + 1 = 100
x(x+1)/2 = 100
最终x向上取整，得到x=14
因此最优解在最坏情况下的尝试次数是14，第一次扔鸡蛋的楼层也是14层。

